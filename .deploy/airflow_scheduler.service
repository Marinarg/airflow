[Unit]
Description=Airflow Scheduler
After=network.target

[Service]
Type=simple
PIDFile=/run/airflow/pid
User=ubuntu
Group=ubuntu
RuntimeDirectory=airflow
WorkingDirectory=/home/admin/airflow
Environment="PATH=/home/admin/.local/bin/airflow:/home/ubuntu/miniconda3/condabin:/usr/local/bin:/usr/bin:/bin"
Environment="AIRFLOW_HOME=/home/admin/airflow"
Environment="PYTHONPATH=/home/ubuntu/airflow"
ExecStart=/home/ubuntu/.local/bin/airflow scheduler
StandardOutput=append:/var/log/airflow/access.log
StandardError=append:/var/log/airflow/error.log
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s TERM $MAINPID

[Install]
WantedBy=multi-user.target
